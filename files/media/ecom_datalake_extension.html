<!DOCTYPE html>
<html lang="en">
<head>
  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-D1Q0RESQ6H"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-D1Q0RESQ6H');
  </script>
  <link rel="canonical" href="https://www.garrettschumacher.com/files/media/ecom_datalake_extension.html" />
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>SQL Stories ¬∑ Ecom Data Lake Extension</title>
  <style>
    :root { --bg:#0c0d10; --card:#14161a; --text:#e9edf1; --muted:#a7b0bb; --brand:#69c; --line:#22262c; --accent:#89b8ff; }
    body {
      margin: 0;
      font-family: Inter, system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      background: var(--bg);
      color: var(--text);
      line-height: 1.6;
    }
    main {
      max-width: 860px;
      margin: 2.5rem auto;
      padding: 2.5rem;
      background: var(--card);
      border: 1px solid var(--line);
      border-radius: 14px;
      box-shadow: 0 18px 40px rgba(0, 0, 0, 0.35);
    }
    h1, h2, h3 {
      color: var(--brand);
      margin-top: 2.5rem;
      border-bottom: 1px solid var(--line);
      padding-bottom: 0.6rem;
    }
    h1 { margin-top: 0; font-size: 2.25rem; }
    h2 { font-size: 1.6rem; }
    h3 { font-size: 1.3rem; border-bottom: none; color: var(--accent); margin-bottom: 0.6rem; }
    p { margin: 0 0 1rem; color: var(--text); }
    ul { margin: 0 0 1.5rem 0; padding-left: 1.4rem; }
    li { margin-bottom: 0.5rem; }
    code {
      background: rgba(255,255,255,0.05);
      padding: 0.2rem 0.45rem;
      border-radius: 4px;
      font-family: SFMono-Regular, Consolas, 'Liberation Mono', Menlo, monospace;
      font-size: 0.95rem;
    }
    pre {
      background: rgba(12, 15, 22, 0.85);
      border: 1px solid var(--line);
      border-radius: 10px;
      padding: 1rem;
      overflow-x: auto;
      font-size: 0.95rem;
    }
    pre code {
      background: transparent;
      padding: 0;
      border-radius: 0;
      display: block;
      line-height: 1.4;
    }
    .pill-row {
      margin: 1rem 0 2rem;
    }
    .pill {
      display: inline-block;
      margin: 0 0.5rem 0.5rem 0;
      padding: 0.35rem 0.8rem;
      border: 1px solid var(--line);
      border-radius: 999px;
      font-size: 0.85rem;
      color: var(--muted);
      background: rgba(255,255,255,0.03);
      letter-spacing: 0.02em;
    }
    .callout {
      border-left: 4px solid var(--accent);
      padding-left: 1rem;
      margin: 1.5rem 0;
      color: var(--muted);
      font-style: italic;
    }
    a { color: var(--accent); text-decoration: none; }
    a:hover { text-decoration: underline; }
    hr {
      border: 0;
      border-top: 1px solid var(--line);
      margin: 2.5rem 0;
    }
    .footer-nav {
      text-align: center;
      margin-top: 2.5rem;
      font-size: 0.95rem;
    }
    .footer-nav a {
      color: var(--brand);
      margin: 0 0.75rem;
      font-weight: 600;
    }
    .footer-tagline {
      text-align: center;
      margin-top: 1rem;
      color: var(--muted);
      font-size: 0.85rem;
      letter-spacing: 0.05em;
    }
  </style>
</head>
<body>
  <main>
    <h1>SQL Stories ¬∑ Ecom Data Lake Extension</h1>
    <p>
      <strong>Purpose:</strong> Hydrate the SQL Stories ecosystem with production-style data lake drops. The
      <code>ecom-datalake-exten</code> repository wraps the <code>ecom_sales_data_generator</code> engine with a CLI that
      converts synthetic CSV output into partitioned Parquet, enriches files with lineage metadata, and publishes them to cloud storage.
    </p>

    <div class="pill-row">
      <span class="pill">Python</span>
      <span class="pill">Click CLI</span>
      <span class="pill">Parquet</span>
      <span class="pill">Google Cloud Storage</span>
      <span class="pill">Pytest</span>
      <span class="pill">CI/CD</span>
    </div>

    <h2>How It Extends SQL Stories</h2>
    <ul>
      <li><strong>Lake hydration layer:</strong> ships generator output into Hive-partitioned Parquet with ingest-date folders.</li>
      <li><strong>Lineage baked in:</strong> every file carries <code>event_id</code>, <code>batch_id</code>, <code>ingestion_ts</code>, and <code>source_file</code> metadata.</li>
      <li><strong>Shipping automation:</strong> CLI commands stage manifests, <code>_SUCCESS</code> markers, and checksum audits for downstream pipelines.</li>
      <li><strong>Scenario ready:</strong> quick-run YAML configs produce historical backlogs that power story briefs, retention studies, and returns analysis.</li>
    </ul>

    <div class="callout">
      This repo turns the synthetic generator into a lightweight data platform. Pair it with the Skills Builder notebooks or Portfolio Demo dashboards to show how ingestion, analysis, and storytelling connect.
    </div>

    <h2>Core CLI Workflow</h2>
    <h3>1. Generate CSV Artifacts</h3>
    <pre><code>ecomlake run-generator \
  --config gen_config/ecom_sales_gen_quick.yaml \
  --artifact-root artifacts \
  --messiness-level medium \
  --generator-src ../ecom_sales_data_generator/src</code></pre>

    <h3>2. Export to Partitioned Parquet</h3>
    <pre><code>ecomlake export-raw \
  --source artifacts/raw_run_20251019T173945Z \
  --target output/raw \
  --ingest-date 2024-02-15 \
  --target-size-mb 10</code></pre>

    <h3>3. Publish to Your Lake</h3>
    <pre><code>ecomlake upload-raw \
  --source output/raw \
  --bucket gs://your-project-raw \
  --prefix ecom/raw \
  --ingest-date 2024-02-15</code></pre>

    <h2>Why It Matters for Stakeholders</h2>
    <ul>
      <li><strong>Ops &amp; Engineering:</strong> mirrors production ingestion patterns with dry-run support, credential management, and post-export hooks.</li>
      <li><strong>Analytics:</strong> guarantees consistent table layouts for dashboards, notebooks, and downstream SQL views.</li>
      <li><strong>Storycrafting:</strong> spin up multi-day contexts (promotions, return spikes, churn events) that feed SQL Stories briefs.</li>
    </ul>

    <h2>Resources &amp; Next Steps</h2>
    <ul>
      <li><a href="https://github.com/G-Schumacher44/ecom-datalake-exten" target="_blank" rel="noopener">Repository on GitHub</a></li>
      <li><a href="https://github.com/G-Schumacher44/ecom-datalake-exten/blob/main/docs/resource_hub/datalakes_extention/CONFIG_GUIDE.md" target="_blank" rel="noopener">Lake Config Guide</a></li>
      <li><a href="https://github.com/G-Schumacher44/ecom-datalake-exten/blob/main/docs/resource_hub/datalakes_extention/TESTING_GUIDE.md" target="_blank" rel="noopener">Testing Playbook</a></li>
    </ul>

    <hr />
    <div class="footer-nav">
      <a href="https://github.com/G-Schumacher44/ecom-datalake-exten" target="_blank" rel="noopener">üè† Repository</a>
      ¬∑
      <a href="https://github.com/G-Schumacher44/ecom_sales_data_generator" target="_blank" rel="noopener">‚öôÔ∏è Data Generator</a>
      ¬∑
      <a href="https://www.garrettschumacher.com/" target="_blank" rel="noopener">‚¨ÖÔ∏è Back to Portfolio</a>
    </div>
    <div class="footer-tagline">‚ú® Generate ¬∑ Partition ¬∑ Publish ‚ú®</div>
  </main>
</body>
</html>
